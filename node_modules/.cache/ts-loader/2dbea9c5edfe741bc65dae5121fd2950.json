{"remainingRequest":"/Users/nan3ds/3DsProject/pam-builder/node_modules/babel-loader/lib/index.js!/Users/nan3ds/3DsProject/pam-builder/node_modules/ts-loader/index.js??ref--14-2!/Users/nan3ds/3DsProject/pam-builder/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nan3ds/3DsProject/pam-builder/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nan3ds/3DsProject/pam-builder/src/builder/BuilderCanvas.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/nan3ds/3DsProject/pam-builder/src/builder/BuilderCanvas.vue","mtime":1607942810844},{"path":"/Users/nan3ds/3DsProject/pam-builder/node_modules/cache-loader/dist/cjs.js","mtime":1605252086732},{"path":"/Users/nan3ds/3DsProject/pam-builder/node_modules/babel-loader/lib/index.js","mtime":1605690691451},{"path":"/Users/nan3ds/3DsProject/pam-builder/node_modules/ts-loader/index.js","mtime":1606390504017},{"path":"/Users/nan3ds/3DsProject/pam-builder/node_modules/cache-loader/dist/cjs.js","mtime":1605252086732},{"path":"/Users/nan3ds/3DsProject/pam-builder/node_modules/vue-loader/lib/index.js","mtime":1605690691983}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvbmFuM2RzLzNEc1Byb2plY3QvcGFtLWJ1aWxkZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy9uYW4zZHMvM0RzUHJvamVjdC9wYW0tYnVpbGRlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9uYW4zZHMvM0RzUHJvamVjdC9wYW0tYnVpbGRlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy9uYW4zZHMvM0RzUHJvamVjdC9wYW0tYnVpbGRlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy9uYW4zZHMvM0RzUHJvamVjdC9wYW0tYnVpbGRlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwppbXBvcnQgeyB1dWlkIH0gZnJvbSAndXVpZHY0JzsKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUsIFByb3AgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IHsgQnVpbGRlclRhZ01hcCB9IGZyb20gJy4vQnVpbGRlclRhZ01hcCc7CmltcG9ydCB7IEVFbGVtZW50UG9zaXRpb24gfSBmcm9tICcuLi9lbnVtL0VsZW1lbnRzJzsKaW1wb3J0IHsgQ09OVEFJTkVSX0RFRkFVTFQsIFRFWFRfREVGQVVMVCwgSU1BR0VfREVGQVVMVCwgU1BBQ0VSX0RFRkFVTFQsIEJVVFRPTl9ERUZBVUxULCBCT1hfREVGQVVMVCB9IGZyb20gJy4uL2NvbnN0YW50cy9EZWZhdWx0JzsKaW1wb3J0IEJveFBhZ2UgZnJvbSAnLi4vcGFnZXMvQm94JzsKaW1wb3J0IEJ1dHRvblBhZ2UgZnJvbSAnLi4vcGFnZXMvQnV0dG9uJzsKaW1wb3J0IEltYWdlUGFnZSBmcm9tICcuLi9wYWdlcy9JbWFnZSc7CmltcG9ydCBTcGFjZXJQYWdlIGZyb20gJy4uL3BhZ2VzL1NwYWNlcic7CmltcG9ydCBUZXh0UGFnZSBmcm9tICcuLi9wYWdlcy9UZXh0JzsKCnZhciBCdWlsZGVyQ2FudmFzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKEJ1aWxkZXJDYW52YXMsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEJ1aWxkZXJDYW52YXMpOwoKICBmdW5jdGlvbiBCdWlsZGVyQ2FudmFzKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCdWlsZGVyQ2FudmFzKTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgX3RoaXMudmFsdWUgPSB7fTsKICAgIF90aGlzLnBhcmVudElkID0gJyc7CiAgICBfdGhpcy5mb3VuZFBhcmVudCA9IGZhbHNlOwogICAgX3RoaXMuaW5zZXJ0ZWQgPSBmYWxzZTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhCdWlsZGVyQ2FudmFzLCBbewogICAga2V5OiAiY3JlYXRlQ29tcG9uZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVDb21wb25lbnQoc3RhdGUsIHRhZykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmIChfLmlzRW1wdHkoc3RhdGUpKSB7CiAgICAgICAgcmV0dXJuIHRhZygiZGl2Iik7CiAgICAgIH0KCiAgICAgIGlmIChfLmlzQXJyYXkoc3RhdGUpKSB7CiAgICAgICAgcmV0dXJuIHN0YXRlLm1hcChmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgICAgIHJldHVybiBfdGhpczIuY3JlYXRlQ29tcG9uZW50KGNoaWxkLCB0YWcpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICB2YXIgY2hpbGRyZW4gPSBbXTsKCiAgICAgIGlmIChzdGF0ZS5jaGlsZHJlbiAmJiBzdGF0ZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7CiAgICAgICAgc3RhdGUuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgICAgIGNoaWxkcmVuLnB1c2goXy5pc1N0cmluZyhjaGlsZCkgPyBjaGlsZCA6IF90aGlzMi5jcmVhdGVDb21wb25lbnQoY2hpbGQsIHRhZykpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICB2YXIgc3R5bGUgPSBzdGF0ZS5wcm9wcyA/IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfLnBpY2soc3RhdGUucHJvcHMsIFsnYmFja2dyb3VuZC1jb2xvcicsICdmbGV4Ym94J10pKSwgc3RhdGUucHJvcHMuZmxleGJveCksIHN0YXRlLnByb3BzWydib3JkZXItYm90dG9tJ10gPyB7CiAgICAgICAgJ2JvcmRlci1ib3R0b20nOiAiIi5jb25jYXQoc3RhdGUucHJvcHNbJ2JvcmRlci1ib3R0b20nXS53aWR0aCwgIiAiKS5jb25jYXQoc3RhdGUucHJvcHNbJ2JvcmRlci1ib3R0b20nXS5zdHlsZSwgIiAiKS5jb25jYXQoc3RhdGUucHJvcHNbJ2JvcmRlci1ib3R0b20nXS5jb2xvcikKICAgICAgfSA6IHVuZGVmaW5lZCkgOiB1bmRlZmluZWQ7CiAgICAgIHZhciBwcm9wZXJ0aWVzID0gewogICAgICAgIHByb3BzOiB7CiAgICAgICAgICBlbGVtZW50SWQ6IHN0YXRlLmlkLAogICAgICAgICAgZWxlbWVudE5hbWU6IF8uY2FwaXRhbGl6ZShzdGF0ZS5lbGVtZW50KSwKICAgICAgICAgIGVsZW1lbnRQcm9wczogXy5jbG9uZURlZXAoc3RhdGUucHJvcHMpCiAgICAgICAgfSwKICAgICAgICBvbjogewogICAgICAgICAgYWRkOiBmdW5jdGlvbiBhZGQodmFsdWUpIHsKICAgICAgICAgICAgX3RoaXMyLnZhbHVlID0gdmFsdWU7CiAgICAgICAgICAgIF90aGlzMi5mb3VuZFBhcmVudCA9IGZhbHNlOwoKICAgICAgICAgICAgaWYgKF8uaW5jbHVkZXMoW0VFbGVtZW50UG9zaXRpb24uVE9QLCBFRWxlbWVudFBvc2l0aW9uLkJPVFRPTV0sIHZhbHVlLnBvc2l0aW9uKSkgewogICAgICAgICAgICAgIF90aGlzMi5hZGRWZXJ0aWNhbEVsZW1lbnQoKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChfLmluY2x1ZGVzKFtFRWxlbWVudFBvc2l0aW9uLkxFRlQsIEVFbGVtZW50UG9zaXRpb24uUklHSFRdLCB2YWx1ZS5wb3NpdGlvbikpIHsKICAgICAgICAgICAgICBfdGhpczIuYWRkSG9yaXplbnRhbEVsZW1lbnQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGR1cGxpY2F0ZTogZnVuY3Rpb24gZHVwbGljYXRlKHZhbHVlKSB7CiAgICAgICAgICAgIF90aGlzMi52YWx1ZSA9IHZhbHVlOwogICAgICAgICAgICBfdGhpczIuZm91bmRQYXJlbnQgPSBmYWxzZTsKCiAgICAgICAgICAgIGlmIChfLmluY2x1ZGVzKFtFRWxlbWVudFBvc2l0aW9uLlRPUCwgRUVsZW1lbnRQb3NpdGlvbi5CT1RUT01dLCB2YWx1ZS5wb3NpdGlvbikpIHsKICAgICAgICAgICAgICBfdGhpczIuYWRkVmVydGljYWxFbGVtZW50KCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoXy5pbmNsdWRlcyhbRUVsZW1lbnRQb3NpdGlvbi5MRUZULCBFRWxlbWVudFBvc2l0aW9uLlJJR0hUXSwgdmFsdWUucG9zaXRpb24pKSB7CiAgICAgICAgICAgICAgX3RoaXMyLmFkZEhvcml6ZW50YWxFbGVtZW50KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBkZWxldGU6IGZ1bmN0aW9uIF9kZWxldGUoaWQpIHsKICAgICAgICAgICAgX3RoaXMyLnZhbHVlLmlkID0gaWQ7CgogICAgICAgICAgICBfdGhpczIuZGVsZXRlRWxlbWVudCgpOwogICAgICAgICAgfSwKICAgICAgICAgIGRvbmU6IGZ1bmN0aW9uIGRvbmUoaXRlbSkgewogICAgICAgICAgICBpZiAoc3RhdGUuaWQgPT09IGl0ZW0uaWQpIHsKICAgICAgICAgICAgICBzdGF0ZS5wcm9wcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbS5wcm9wcyksIF8uY2xvbmVEZWVwKGl0ZW0ucHJvcHMpWydib3JkZXItYm90dG9tJ10gPyB7CiAgICAgICAgICAgICAgICAnYm9yZGVyLWJvdHRvbSc6IF8uY2xvbmVEZWVwKGl0ZW0ucHJvcHMpWydib3JkZXItYm90dG9tJ10KICAgICAgICAgICAgICB9IDogdW5kZWZpbmVkKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc3R5bGU6IHN0eWxlCiAgICAgIH07CiAgICAgIHZhciB0YWdOYW1lID0gQnVpbGRlclRhZ01hcC5nZXRUYWcoc3RhdGUuZWxlbWVudCk7CiAgICAgIHJldHVybiB0YWcodGFnTmFtZSwgcHJvcGVydGllcywgY2hpbGRyZW4pOwogICAgfQogIH0sIHsKICAgIGtleTogImFkZEhvcml6ZW50YWxFbGVtZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRIb3JpemVudGFsRWxlbWVudCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRoaXMudGVtcGxhdGVKc29uOwoKICAgICAgaWYgKHN0YXRlLmNoaWxkcmVuKSB7CiAgICAgICAgdmFyIGluZGV4SW5zZXJ0ID0gMDsKICAgICAgICBzdGF0ZS5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgaWYgKGl0ZW0uaWQgPT09IF90aGlzMy52YWx1ZS5pZCkgewogICAgICAgICAgICBpbmRleEluc2VydCA9IEVFbGVtZW50UG9zaXRpb24uTEVGVCA9PT0gX3RoaXMzLnZhbHVlLnBvc2l0aW9uID8gaW5kZXggOiBpbmRleCArIDE7CiAgICAgICAgICAgIHZhciBkYXRhID0gX3RoaXMzLnZhbHVlLmR1cGxpY2F0ZSA/IF9vYmplY3RTcHJlYWQoe30sIF8uY2xvbmVEZWVwKGl0ZW0pKSA6IF9vYmplY3RTcHJlYWQoe30sIF8uY2xvbmVEZWVwKF90aGlzMy5kZWZhdWx0RGF0YVsiIi5jb25jYXQoX3RoaXMzLnZhbHVlLmVsZW1lbnQsICJfREVGQVVMVCIpXSkpOwogICAgICAgICAgICBzdGF0ZS5jaGlsZHJlbi5zcGxpY2UoaW5kZXhJbnNlcnQsIDAsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGF0YSksIHt9LCB7CiAgICAgICAgICAgICAgaWQ6IHV1aWQoKQogICAgICAgICAgICB9KSk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMzLmFkZEhvcml6ZW50YWxFbGVtZW50KGl0ZW0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkVmVydGljYWxFbGVtZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRWZXJ0aWNhbEVsZW1lbnQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnRlbXBsYXRlSnNvbjsKCiAgICAgIGlmIChzdGF0ZS5jaGlsZHJlbikgewogICAgICAgIHZhciBpbmRleEluc2VydCA9IDA7CiAgICAgICAgc3RhdGUuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgIGlmIChfdGhpczQuZm91bmRQYXJlbnQpIHsKICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT09IF90aGlzNC5wYXJlbnRJZCkgewogICAgICAgICAgICAgIGluZGV4SW5zZXJ0ID0gRUVsZW1lbnRQb3NpdGlvbi5UT1AgPT09IF90aGlzNC52YWx1ZS5wb3NpdGlvbiA/IGluZGV4IDogaW5kZXggKyAxOwoKICAgICAgICAgICAgICB2YXIga2V5ID0gXy5maW5kS2V5KGl0ZW0uY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmlkID09PSBfdGhpczQudmFsdWUuaWQ7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIHZhciBkYXRhID0gX3RoaXM0LnZhbHVlLmR1cGxpY2F0ZSA/IF9vYmplY3RTcHJlYWQoe30sIF8uY2xvbmVEZWVwKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgICAgICAgICAgICBjaGlsZHJlbjogXyhpdGVtLmNoaWxkcmVuKS5tYXAoZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNoaWxkKSwge30sIHsKICAgICAgICAgICAgICAgICAgICBpZDogdXVpZCgpCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4ID09PSBfLnBhcnNlSW50KGtleSk7CiAgICAgICAgICAgICAgICB9KS5jbG9uZURlZXAoKQogICAgICAgICAgICAgIH0pKSkgOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF8uY2xvbmVEZWVwKF90aGlzNC5kZWZhdWx0RGF0YVsnQ09OVEFJTkVSX0RFRkFVTFQnXSkpLCB7fSwgewogICAgICAgICAgICAgICAgaWQ6IHV1aWQoKSwKICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBfLmNsb25lRGVlcChbX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgICAgICAgIGlkOiB1dWlkKCkKICAgICAgICAgICAgICAgIH0sIF8uY2xvbmVEZWVwKF90aGlzNC5kZWZhdWx0RGF0YVsiIi5jb25jYXQoX3RoaXM0LnZhbHVlLmVsZW1lbnQsICJfREVGQVVMVCIpXSkpXSkKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgaWYgKCFfdGhpczQuaW5zZXJ0ZWQpIHsKICAgICAgICAgICAgICAgIHN0YXRlLmNoaWxkcmVuLnNwbGljZShpbmRleEluc2VydCwgMCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkYXRhKSwge30sIHsKICAgICAgICAgICAgICAgICAgaWQ6IHV1aWQoKQogICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgX3RoaXM0Lmluc2VydGVkID0gdHJ1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzNC5hZGRWZXJ0aWNhbEVsZW1lbnQoaXRlbSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczQuZm91bmRQYXJlbnQgPSBpdGVtLmlkID09PSBfdGhpczQudmFsdWUuaWQ7CiAgICAgICAgICAgIF90aGlzNC5wYXJlbnRJZCA9IHN0YXRlLmlkOwogICAgICAgICAgICBfdGhpczQuaW5zZXJ0ZWQgPSBmYWxzZTsKCiAgICAgICAgICAgIF90aGlzNC5hZGRWZXJ0aWNhbEVsZW1lbnQoX3RoaXM0LmZvdW5kUGFyZW50ID8gdW5kZWZpbmVkIDogaXRlbSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZWxldGVFbGVtZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVFbGVtZW50KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy50ZW1wbGF0ZUpzb247CgogICAgICBpZiAoc3RhdGUuY2hpbGRyZW4pIHsKICAgICAgICBzdGF0ZS5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkgewogICAgICAgICAgaWYgKGNoaWxkLmlkID09PSBfdGhpczUudmFsdWUuaWQpIHsKICAgICAgICAgICAgc3RhdGUuY2hpbGRyZW4gPSBfLmZpbHRlcihzdGF0ZS5jaGlsZHJlbiwgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LnZhbHVlLmlkICE9PSBpdGVtLmlkOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzNS5kZWxldGVDaGlsZEVsZW1lbnQoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczUuZGVsZXRlRWxlbWVudChjaGlsZCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZWxldGVDaGlsZEVsZW1lbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZUNoaWxkRWxlbWVudCgpIHsKICAgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnRlbXBsYXRlSnNvbjsKCiAgICAgIGlmIChzdGF0ZS5jaGlsZHJlbikgewogICAgICAgIHN0YXRlLmNoaWxkcmVuID0gXy5maWx0ZXIoc3RhdGUuY2hpbGRyZW4sIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5jaGlsZHJlbi5sZW5ndGggPiAwOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm47CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoY3JlYXRlRWxlbWVudCkgewogICAgICByZXR1cm4gdGhpcy5jcmVhdGVDb21wb25lbnQodGhpcy50ZW1wbGF0ZUpzb24sIGNyZWF0ZUVsZW1lbnQpOwogICAgfQogIH0sIHsKICAgIGtleTogImRlZmF1bHREYXRhIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gewogICAgICAgIENPTlRBSU5FUl9ERUZBVUxUOiBDT05UQUlORVJfREVGQVVMVCwKICAgICAgICBURVhUX0RFRkFVTFQ6IFRFWFRfREVGQVVMVCwKICAgICAgICBJTUFHRV9ERUZBVUxUOiBJTUFHRV9ERUZBVUxULAogICAgICAgIFNQQUNFUl9ERUZBVUxUOiBTUEFDRVJfREVGQVVMVCwKICAgICAgICBCVVRUT05fREVGQVVMVDogQlVUVE9OX0RFRkFVTFQsCiAgICAgICAgQk9YX0RFRkFVTFQ6IEJPWF9ERUZBVUxUCiAgICAgIH07CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQnVpbGRlckNhbnZhczsKfShWdWUpOwoKX19kZWNvcmF0ZShbUHJvcCgpXSwgQnVpbGRlckNhbnZhcy5wcm90b3R5cGUsICJ2aWV3SlNPTiIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm9wKCldLCBCdWlsZGVyQ2FudmFzLnByb3RvdHlwZSwgInRlbXBsYXRlSnNvbiIsIHZvaWQgMCk7CgpCdWlsZGVyQ2FudmFzID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBCb3hQYWdlOiBCb3hQYWdlLAogICAgQnV0dG9uUGFnZTogQnV0dG9uUGFnZSwKICAgIEltYWdlUGFnZTogSW1hZ2VQYWdlLAogICAgU3BhY2VyUGFnZTogU3BhY2VyUGFnZSwKICAgIFRleHRQYWdlOiBUZXh0UGFnZQogIH0KfSldLCBCdWlsZGVyQ2FudmFzKTsKZXhwb3J0IGRlZmF1bHQgQnVpbGRlckNhbnZhczs="},{"version":3,"sources":["/Users/nan3ds/3DsProject/pam-builder/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nan3ds/3DsProject/pam-builder/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nan3ds/3DsProject/pam-builder/src/builder/BuilderCanvas.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n  import _ from 'lodash'\n  import { uuid } from 'uuidv4'\n  import { Component, Vue, Prop } from 'vue-property-decorator'\n  import { CreateElement } from 'vue'\n  import { BuilderTagMap } from './BuilderTagMap'\n  import { EElementPosition } from '../enum/Elements'\n  import {\n    CONTAINER_DEFAULT,\n    TEXT_DEFAULT,\n    IMAGE_DEFAULT,\n    SPACER_DEFAULT,\n    BUTTON_DEFAULT,\n    BOX_DEFAULT\n} from '../constants/Default'\n  import BoxPage from '../pages/Box'\n  import ButtonPage from '../pages/Button'\n  import ImagePage from '../pages/Image'\n  import SpacerPage from '../pages/Spacer'\n  import TextPage from '../pages/Text'\n\n  @Component({\n    components: { BoxPage, ButtonPage, ImagePage, SpacerPage, TextPage },\n  })\n  export default class BuilderCanvas extends Vue {\n    @Prop() viewJSON: any\n    @Prop() templateJson: any\n\n    value: any = {}\n    parentId = ''\n    foundParent = false\n    inserted = false\n\n    get defaultData(): any {\n      return {\n        CONTAINER_DEFAULT,\n        TEXT_DEFAULT,\n        IMAGE_DEFAULT,\n        SPACER_DEFAULT,\n        BUTTON_DEFAULT,\n        BOX_DEFAULT\n      }\n    }\n\n    createComponent(state: any, tag: CreateElement): any {\n      if (_.isEmpty(state)) { return tag(\"div\") }\n\n      if (_.isArray(state)) {\n        return state.map((child) => this.createComponent(child, tag))\n      }\n\n      const children: any[] = []\n\n      if (state.children && state.children.length > 0) {\n        state.children.forEach((child: any) => {\n          children.push(_.isString(child) ? child : this.createComponent(child, tag))\n        })\n      }\n\n      const style = state.props\n        ? {\n            ..._.pick(state.props, ['background-color', 'flexbox']),\n            ...state.props.flexbox,\n            ...state.props['border-bottom']\n                ? {\n                    'border-bottom':\n                      `${state.props['border-bottom'].width} ${state.props['border-bottom'].style} ${state.props['border-bottom'].color}`\n                  }\n                : undefined\n          }\n          : undefined\n\n      const properties = {\n        props: {\n          elementId: state.id,\n          elementName: _.capitalize(state.element),\n          elementProps: _.cloneDeep(state.props)\n        },\n        on: {\n          add: (value: any) => {\n            this.value = value\n            this.foundParent = false\n            if (_.includes([EElementPosition.TOP, EElementPosition.BOTTOM], value.position)) {\n              this.addVerticalElement()\n            } else if (_.includes([EElementPosition.LEFT, EElementPosition.RIGHT], value.position)) {\n              this.addHorizentalElement()\n            }\n          },\n          duplicate: (value: any) => {\n            this.value = value\n            this.foundParent = false\n            if (_.includes([EElementPosition.TOP, EElementPosition.BOTTOM], value.position)) {\n              this.addVerticalElement()\n            } else if (_.includes([EElementPosition.LEFT, EElementPosition.RIGHT], value.position)) {\n              this.addHorizentalElement()\n            }\n          },\n          delete: (id: string) => {\n            this.value.id = id\n            this.deleteElement()\n          },\n          done: (item: any) => {\n            if (state.id === item.id) {\n              state.props = {\n                ...item.props,\n                ...(\n                    _.cloneDeep(item.props)['border-bottom']\n                      ? { 'border-bottom' : _.cloneDeep(item.props)['border-bottom'] }\n                      : undefined\n                  )\n              }\n            }\n          }\n        },\n        style: style\n      }\n\n      const tagName = BuilderTagMap.getTag(state.element)\n\n      return tag(tagName, properties, children)\n    }\n\n    addHorizentalElement(state: any = this.templateJson) {\n      if (state.children) {\n        let indexInsert = 0\n        state.children.forEach((item: any, index: number) => {\n          if (item.id === this.value.id) {\n            indexInsert = EElementPosition.LEFT === this.value.position ? index : index + 1\n            const data = this.value.duplicate\n              ? { ..._.cloneDeep(item) }\n              : { ..._.cloneDeep(this.defaultData[`${this.value.element}_DEFAULT`]) }\n            state.children.splice(indexInsert, 0, { ...data, id: uuid() })\n          }\n          this.addHorizentalElement(item)\n        })\n      }\n    }\n\n    addVerticalElement(state: any = this.templateJson) {\n      if (state.children) {\n        let indexInsert = 0\n        state.children.forEach((item: any, index: number) => {\n          if (this.foundParent) {\n            if (item.id === this.parentId) {\n              indexInsert = EElementPosition.TOP === this.value.position ? index : index + 1\n              const key: any = _.findKey(item.children, child => child.id === this.value.id)\n              const data = this.value.duplicate\n                ? { \n                    ..._.cloneDeep({\n                    ...item,\n                    children: _(item.children)\n                      .map((child: any) => { return { ...child, id: uuid() } })\n                      .filter((child: any, index: number) => index === _.parseInt(key))\n                      .cloneDeep()\n                    })\n                  }\n                : { \n                    ..._.cloneDeep(this.defaultData['CONTAINER_DEFAULT']),\n                    id: uuid(),\n                    children: _.cloneDeep([{\n                      id: uuid(),\n                      ..._.cloneDeep(this.defaultData[`${this.value.element}_DEFAULT`])\n                    }])\n                  }\n              if (!this.inserted) {\n                state.children.splice(indexInsert, 0, { ...data, id: uuid() })\n                this.inserted = true\n              }\n            }\n            this.addVerticalElement(item)\n          } else {\n            this.foundParent = item.id === this.value.id\n            this.parentId = state.id\n            this.inserted = false\n            this.addVerticalElement(this.foundParent ? undefined : item)\n          }\n        })\n      }\n    }\n\n    deleteElement(state: any = this.templateJson) {\n      if (state.children) {\n        state.children.forEach((child: any) => {\n          if (child.id === this.value.id) {\n            state.children = _.filter(state.children, item => this.value.id !== item.id)\n            this.deleteChildElement()\n          }\n          this.deleteElement(child)\n        })\n      }\n    }\n\n    deleteChildElement(state: any = this.templateJson) {\n      if (state.children) {\n        state.children = _.filter(state.children, item => item.children.length > 0)\n      }\n      return\n    }\n\n    render(createElement: CreateElement) {\n      return this.createComponent(this.templateJson, createElement)\n    }\n  }\n"],"sourceRoot":""}]}