{"remainingRequest":"/Users/nan3ds/3DsProject/pam-builder/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nan3ds/3DsProject/pam-builder/src/builder/BuilderCanvas.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/nan3ds/3DsProject/pam-builder/src/builder/BuilderCanvas.vue","mtime":1607483691187},{"path":"/Users/nan3ds/3DsProject/pam-builder/node_modules/babel-loader/lib/index.js","mtime":1605690691451},{"path":"/Users/nan3ds/3DsProject/pam-builder/node_modules/ts-loader/index.js","mtime":1606390504017},{"path":"/Users/nan3ds/3DsProject/pam-builder/node_modules/cache-loader/dist/cjs.js","mtime":1605252086732},{"path":"/Users/nan3ds/3DsProject/pam-builder/node_modules/vue-loader/lib/index.js","mtime":1605690691983}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgaW1wb3J0IF8gZnJvbSAnbG9kYXNoJwogIGltcG9ydCB7IHV1aWQgfSBmcm9tICd1dWlkdjQnCiAgaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUsIFByb3AgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJwogIGltcG9ydCB7IENyZWF0ZUVsZW1lbnQgfSBmcm9tICd2dWUnCiAgaW1wb3J0IHsgQnVpbGRlclRhZ01hcCB9IGZyb20gJy4vQnVpbGRlclRhZ01hcCcKICBpbXBvcnQgeyBFRWxlbWVudFBvc2l0aW9uIH0gZnJvbSAnLi4vZW51bS9FbGVtZW50cycKICBpbXBvcnQgewogICAgQ09OVEFJTkVSX0RFRkFVTFQsCiAgICBURVhUX0RFRkFVTFQsCiAgICBJTUFHRV9ERUZBVUxULAogICAgU1BBQ0VSX0RFRkFVTFQsCiAgICBCVVRUT05fREVGQVVMVCwKICAgIEJPWF9ERUZBVUxUCn0gZnJvbSAnLi4vY29uc3RhbnRzL0RlZmF1bHQnCiAgaW1wb3J0IEJveFBhZ2UgZnJvbSAnLi4vcGFnZXMvQm94JwogIGltcG9ydCBCdXR0b25QYWdlIGZyb20gJy4uL3BhZ2VzL0J1dHRvbicKICBpbXBvcnQgSW1hZ2VQYWdlIGZyb20gJy4uL3BhZ2VzL0ltYWdlJwogIGltcG9ydCBTcGFjZXJQYWdlIGZyb20gJy4uL3BhZ2VzL1NwYWNlcicKICBpbXBvcnQgVGV4dFBhZ2UgZnJvbSAnLi4vcGFnZXMvVGV4dCcKCiAgQENvbXBvbmVudCh7CiAgICBjb21wb25lbnRzOiB7IEJveFBhZ2UsIEJ1dHRvblBhZ2UsIEltYWdlUGFnZSwgU3BhY2VyUGFnZSwgVGV4dFBhZ2UgfSwKICB9KQogIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1aWxkZXJDYW52YXMgZXh0ZW5kcyBWdWUgewogICAgQFByb3AoKSB2aWV3SlNPTjogYW55CiAgICBAUHJvcCgpIHRlbXBsYXRlSnNvbjogYW55CgogICAgdmFsdWU6IGFueSA9IHt9CiAgICBwYXJlbnRJZCA9ICcnCiAgICBmb3VuZFBhcmVudCA9IGZhbHNlCgogICAgZ2V0IGRlZmF1bHREYXRhKCk6IGFueSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgQ09OVEFJTkVSX0RFRkFVTFQsCiAgICAgICAgVEVYVF9ERUZBVUxULAogICAgICAgIElNQUdFX0RFRkFVTFQsCiAgICAgICAgU1BBQ0VSX0RFRkFVTFQsCiAgICAgICAgQlVUVE9OX0RFRkFVTFQsCiAgICAgICAgQk9YX0RFRkFVTFQKICAgICAgfQogICAgfQoKICAgIGNyZWF0ZUNvbXBvbmVudChzdGF0ZTogYW55LCB0YWc6IENyZWF0ZUVsZW1lbnQpOiBhbnkgewogICAgICBpZiAoXy5pc0VtcHR5KHN0YXRlKSkgeyByZXR1cm4gdGFnKCJkaXYiKSB9CgogICAgICBpZiAoXy5pc0FycmF5KHN0YXRlKSkgewogICAgICAgIHJldHVybiBzdGF0ZS5tYXAoKGNoaWxkKSA9PiB0aGlzLmNyZWF0ZUNvbXBvbmVudChjaGlsZCwgdGFnKSkKICAgICAgfQoKICAgICAgY29uc3QgY2hpbGRyZW46IGFueVtdID0gW10KCiAgICAgIGlmIChzdGF0ZS5jaGlsZHJlbiAmJiBzdGF0ZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7CiAgICAgICAgc3RhdGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6IGFueSkgPT4gewogICAgICAgICAgY2hpbGRyZW4ucHVzaChfLmlzU3RyaW5nKGNoaWxkKSA/IGNoaWxkIDogdGhpcy5jcmVhdGVDb21wb25lbnQoY2hpbGQsIHRhZykpCiAgICAgICAgfSkKICAgICAgfQoKICAgICAgY29uc3Qgc3R5bGUgPSB7CiAgICAgICAgLi4uc3RhdGUucHJvcHMsCiAgICAgICAgLi4uKHN0YXRlLnByb3BzICYmIHN0YXRlLnByb3BzLmZsZXhib3ggPyBzdGF0ZS5wcm9wcy5mbGV4Ym94IDogdW5kZWZpbmVkKSwKICAgICAgICAuLi4oCiAgICAgICAgICAgIHN0YXRlLnByb3BzICYmIHN0YXRlLnByb3BzWydib3JkZXItYm90dG9tJ10KICAgICAgICAgICAgICA/IHsKICAgICAgICAgICAgICAgICAgJ2JvcmRlci1ib3R0b20nOgogICAgICAgICAgICAgICAgICAgIGAke3N0YXRlLnByb3BzWydib3JkZXItYm90dG9tJ10ud2lkdGh9ICR7c3RhdGUucHJvcHNbJ2JvcmRlci1ib3R0b20nXS5zdHlsZX0gJHtzdGF0ZS5wcm9wc1snYm9yZGVyLWJvdHRvbSddLmNvbG9yfWAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICA6IHVuZGVmaW5lZAogICAgICAgICAgKQogICAgICB9CgogICAgICBjb25zdCBwcm9wZXJ0aWVzID0gewogICAgICAgIHByb3BzOiB7CiAgICAgICAgICBlbGVtZW50SWQ6IHN0YXRlLmlkLAogICAgICAgICAgZWxlbWVudE5hbWU6IF8uY2FwaXRhbGl6ZShzdGF0ZS5lbGVtZW50KSwKICAgICAgICAgIGVsZW1lbnRQcm9wczogc3RhdGUucHJvcHMKICAgICAgICB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICBhZGQ6ICh2YWx1ZTogYW55KSA9PiB7CiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZQogICAgICAgICAgICB0aGlzLmZvdW5kUGFyZW50ID0gZmFsc2UKICAgICAgICAgICAgaWYgKF8uaW5jbHVkZXMoW0VFbGVtZW50UG9zaXRpb24uVE9QLCBFRWxlbWVudFBvc2l0aW9uLkJPVFRPTV0sIHZhbHVlLnBvc2l0aW9uKSkgewogICAgICAgICAgICAgIHRoaXMuYWRkVmVydGljYWxFbGVtZW50KCkKICAgICAgICAgICAgfSBlbHNlIGlmIChfLmluY2x1ZGVzKFtFRWxlbWVudFBvc2l0aW9uLkxFRlQsIEVFbGVtZW50UG9zaXRpb24uUklHSFRdLCB2YWx1ZS5wb3NpdGlvbikpIHsKICAgICAgICAgICAgICB0aGlzLmFkZEhvcml6ZW50YWxFbGVtZW50KCkKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGR1cGxpY2F0ZTogKHZhbHVlOiBhbnkpID0+IHsKICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlCiAgICAgICAgICAgIHRoaXMuZm91bmRQYXJlbnQgPSBmYWxzZQogICAgICAgICAgICBpZiAoXy5pbmNsdWRlcyhbRUVsZW1lbnRQb3NpdGlvbi5UT1AsIEVFbGVtZW50UG9zaXRpb24uQk9UVE9NXSwgdmFsdWUucG9zaXRpb24pKSB7CiAgICAgICAgICAgICAgdGhpcy5hZGRWZXJ0aWNhbEVsZW1lbnQoKQogICAgICAgICAgICB9IGVsc2UgaWYgKF8uaW5jbHVkZXMoW0VFbGVtZW50UG9zaXRpb24uTEVGVCwgRUVsZW1lbnRQb3NpdGlvbi5SSUdIVF0sIHZhbHVlLnBvc2l0aW9uKSkgewogICAgICAgICAgICAgIHRoaXMuYWRkSG9yaXplbnRhbEVsZW1lbnQoKQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgZGVsZXRlOiAoaWQ6IHN0cmluZykgPT4gewogICAgICAgICAgICB0aGlzLnZhbHVlLmlkID0gaWQKICAgICAgICAgICAgdGhpcy5kZWxldGVFbGVtZW50KCkKICAgICAgICAgIH0sCiAgICAgICAgICBkb25lOiAoaXRlbTogYW55KSA9PiB7CiAgICAgICAgICAgIGlmIChzdGF0ZS5pZCA9PT0gaXRlbS5pZCkgewogICAgICAgICAgICAgIHN0YXRlLnByb3BzID0gewogICAgICAgICAgICAgICAgLi4uaXRlbS5wcm9wcywKICAgICAgICAgICAgICAgIC4uLigKICAgICAgICAgICAgICAgICAgICBfLmNsb25lRGVlcChpdGVtLnByb3BzKVsnYm9yZGVyLWJvdHRvbSddCiAgICAgICAgICAgICAgICAgICAgICA/IHsgJ2JvcmRlci1ib3R0b20nIDogXy5jbG9uZURlZXAoaXRlbS5wcm9wcylbJ2JvcmRlci1ib3R0b20nXSB9CiAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZAogICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzdHlsZTogc3R5bGUKICAgICAgfQoKICAgICAgY29uc3QgdGFnTmFtZSA9IEJ1aWxkZXJUYWdNYXAuZ2V0VGFnKHN0YXRlLmVsZW1lbnQpCgogICAgICByZXR1cm4gdGFnKHRhZ05hbWUsIHByb3BlcnRpZXMsIGNoaWxkcmVuKQogICAgfQoKICAgIGFkZEhvcml6ZW50YWxFbGVtZW50KHN0YXRlOiBhbnkgPSB0aGlzLnRlbXBsYXRlSnNvbikgewogICAgICBpZiAoc3RhdGUuY2hpbGRyZW4pIHsKICAgICAgICBsZXQgaW5kZXhJbnNlcnQgPSAwCiAgICAgICAgY29uc3QgbGlzdHMgPSBzdGF0ZS5jaGlsZHJlbi5maW5kKChpdGVtOiBhbnksIGluZGV4OiBudW1iZXIpID0+IHsKICAgICAgICAgIGlmIChpdGVtLmlkID09PSB0aGlzLnZhbHVlLmlkKSB7CiAgICAgICAgICAgIGluZGV4SW5zZXJ0ID0gRUVsZW1lbnRQb3NpdGlvbi5MRUZUID09PSB0aGlzLnZhbHVlLnBvc2l0aW9uID8gaW5kZXggOiBpbmRleCArIDEKICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuYWRkSG9yaXplbnRhbEVsZW1lbnQoaXRlbSkKICAgICAgICB9KQogICAgICAgIGlmIChsaXN0cykgewogICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMudmFsdWUuZHVwbGljYXRlCiAgICAgICAgICAgID8geyAuLi5fLmNsb25lRGVlcChsaXN0cykgfQogICAgICAgICAgICA6IHsgLi4uXy5jbG9uZURlZXAodGhpcy5kZWZhdWx0RGF0YVtgJHt0aGlzLnZhbHVlLmVsZW1lbnR9X0RFRkFVTFRgXSkgfQogICAgICAgICAgc3RhdGUuY2hpbGRyZW4uc3BsaWNlKGluZGV4SW5zZXJ0LCAwLCB7IC4uLmRhdGEsIGlkOiB1dWlkKCkgfSkKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBhZGRWZXJ0aWNhbEVsZW1lbnQoc3RhdGU6IGFueSA9IHRoaXMudGVtcGxhdGVKc29uKSB7CiAgICAgIGlmIChzdGF0ZS5jaGlsZHJlbikgewogICAgICAgIGxldCBpbmRleEluc2VydCA9IDAKICAgICAgICBjb25zdCBsaXN0cyA9IHN0YXRlLmNoaWxkcmVuLmZpbmQoKGl0ZW06IGFueSwgaW5kZXg6IG51bWJlcikgPT4gewogICAgICAgICAgaWYgKHRoaXMuZm91bmRQYXJlbnQpIHsKICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT09IHRoaXMucGFyZW50SWQpIHsKICAgICAgICAgICAgICBpbmRleEluc2VydCA9IEVFbGVtZW50UG9zaXRpb24uVE9QID09PSB0aGlzLnZhbHVlLnBvc2l0aW9uID8gaW5kZXggOiBpbmRleCArIDEKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuYWRkVmVydGljYWxFbGVtZW50KGl0ZW0pCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmZvdW5kUGFyZW50ID0gaXRlbS5pZCA9PT0gdGhpcy52YWx1ZS5pZAogICAgICAgICAgICB0aGlzLnBhcmVudElkID0gc3RhdGUuaWQKICAgICAgICAgICAgdGhpcy5hZGRWZXJ0aWNhbEVsZW1lbnQodGhpcy5mb3VuZFBhcmVudCA/IHVuZGVmaW5lZCA6IGl0ZW0pCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICBpZiAobGlzdHMpIHsKICAgICAgICAgIGNvbnN0IGtleTogYW55ID0gXy5maW5kS2V5KGxpc3RzLmNoaWxkcmVuLCBjaGlsZCA9PiBjaGlsZC5pZCA9PT0gdGhpcy52YWx1ZS5pZCkKICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLnZhbHVlLmR1cGxpY2F0ZQogICAgICAgICAgICA/IHsgCiAgICAgICAgICAgICAgICAuLi5fLmNsb25lRGVlcCh7CiAgICAgICAgICAgICAgICAuLi5saXN0cywKICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBfKGxpc3RzLmNoaWxkcmVuKQogICAgICAgICAgICAgICAgICAubWFwKChjaGlsZDogYW55KSA9PiB7IHJldHVybiB7IC4uLmNoaWxkLCBpZDogdXVpZCgpIH0gfSkKICAgICAgICAgICAgICAgICAgLmZpbHRlcigoY2hpbGQ6IGFueSwgaW5kZXg6IG51bWJlcikgPT4gaW5kZXggPT09IF8ucGFyc2VJbnQoa2V5KSkKICAgICAgICAgICAgICAgICAgLmNsb25lRGVlcCgpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgOiB7IAogICAgICAgICAgICAgICAgLi4uXy5jbG9uZURlZXAodGhpcy5kZWZhdWx0RGF0YVsnQ09OVEFJTkVSX0RFRkFVTFQnXSksCiAgICAgICAgICAgICAgICBpZDogdXVpZCgpLAogICAgICAgICAgICAgICAgY2hpbGRyZW46IF8uY2xvbmVEZWVwKFt7CiAgICAgICAgICAgICAgICAgIGlkOiB1dWlkKCksCiAgICAgICAgICAgICAgICAgIC4uLl8uY2xvbmVEZWVwKHRoaXMuZGVmYXVsdERhdGFbYCR7dGhpcy52YWx1ZS5lbGVtZW50fV9ERUZBVUxUYF0pCiAgICAgICAgICAgICAgICB9XSkKICAgICAgICAgICAgICB9CiAgICAgICAgICBzdGF0ZS5jaGlsZHJlbi5zcGxpY2UoaW5kZXhJbnNlcnQsIDAsIHsgLi4uZGF0YSwgaWQ6IHV1aWQoKSB9KQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGRlbGV0ZUVsZW1lbnQoc3RhdGU6IGFueSA9IHRoaXMudGVtcGxhdGVKc29uKSB7CiAgICAgIGlmIChzdGF0ZS5jaGlsZHJlbikgewogICAgICAgIHN0YXRlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBhbnkpID0+IHsKICAgICAgICAgIGlmIChjaGlsZC5pZCA9PT0gdGhpcy52YWx1ZS5pZCkgewogICAgICAgICAgICBzdGF0ZS5jaGlsZHJlbiA9IF8uZmlsdGVyKHN0YXRlLmNoaWxkcmVuLCBpdGVtID0+IHRoaXMudmFsdWUuaWQgIT09IGl0ZW0uaWQpCiAgICAgICAgICAgIHRoaXMuZGVsZXRlQ2hpbGRFbGVtZW50KCkKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZGVsZXRlRWxlbWVudChjaGlsZCkKICAgICAgICB9KQogICAgICB9CiAgICB9CgogICAgZGVsZXRlQ2hpbGRFbGVtZW50KHN0YXRlOiBhbnkgPSB0aGlzLnRlbXBsYXRlSnNvbikgewogICAgICBpZiAoc3RhdGUuY2hpbGRyZW4pIHsKICAgICAgICBzdGF0ZS5jaGlsZHJlbiA9IF8uZmlsdGVyKHN0YXRlLmNoaWxkcmVuLCBpdGVtID0+IGl0ZW0uY2hpbGRyZW4ubGVuZ3RoID4gMCkKICAgICAgfQogICAgICByZXR1cm4KICAgIH0KCiAgICByZW5kZXIoY3JlYXRlRWxlbWVudDogQ3JlYXRlRWxlbWVudCkgewogICAgICByZXR1cm4gdGhpcy5jcmVhdGVDb21wb25lbnQodGhpcy50ZW1wbGF0ZUpzb24sIGNyZWF0ZUVsZW1lbnQpCiAgICB9CiAgfQo="},{"version":3,"sources":["BuilderCanvas.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"BuilderCanvas.vue","sourceRoot":"src/builder","sourcesContent":["<script lang=\"ts\">\n  import _ from 'lodash'\n  import { uuid } from 'uuidv4'\n  import { Component, Vue, Prop } from 'vue-property-decorator'\n  import { CreateElement } from 'vue'\n  import { BuilderTagMap } from './BuilderTagMap'\n  import { EElementPosition } from '../enum/Elements'\n  import {\n    CONTAINER_DEFAULT,\n    TEXT_DEFAULT,\n    IMAGE_DEFAULT,\n    SPACER_DEFAULT,\n    BUTTON_DEFAULT,\n    BOX_DEFAULT\n} from '../constants/Default'\n  import BoxPage from '../pages/Box'\n  import ButtonPage from '../pages/Button'\n  import ImagePage from '../pages/Image'\n  import SpacerPage from '../pages/Spacer'\n  import TextPage from '../pages/Text'\n\n  @Component({\n    components: { BoxPage, ButtonPage, ImagePage, SpacerPage, TextPage },\n  })\n  export default class BuilderCanvas extends Vue {\n    @Prop() viewJSON: any\n    @Prop() templateJson: any\n\n    value: any = {}\n    parentId = ''\n    foundParent = false\n\n    get defaultData(): any {\n      return {\n        CONTAINER_DEFAULT,\n        TEXT_DEFAULT,\n        IMAGE_DEFAULT,\n        SPACER_DEFAULT,\n        BUTTON_DEFAULT,\n        BOX_DEFAULT\n      }\n    }\n\n    createComponent(state: any, tag: CreateElement): any {\n      if (_.isEmpty(state)) { return tag(\"div\") }\n\n      if (_.isArray(state)) {\n        return state.map((child) => this.createComponent(child, tag))\n      }\n\n      const children: any[] = []\n\n      if (state.children && state.children.length > 0) {\n        state.children.forEach((child: any) => {\n          children.push(_.isString(child) ? child : this.createComponent(child, tag))\n        })\n      }\n\n      const style = {\n        ...state.props,\n        ...(state.props && state.props.flexbox ? state.props.flexbox : undefined),\n        ...(\n            state.props && state.props['border-bottom']\n              ? {\n                  'border-bottom':\n                    `${state.props['border-bottom'].width} ${state.props['border-bottom'].style} ${state.props['border-bottom'].color}`\n                }\n              : undefined\n          )\n      }\n\n      const properties = {\n        props: {\n          elementId: state.id,\n          elementName: _.capitalize(state.element),\n          elementProps: state.props\n        },\n        on: {\n          add: (value: any) => {\n            this.value = value\n            this.foundParent = false\n            if (_.includes([EElementPosition.TOP, EElementPosition.BOTTOM], value.position)) {\n              this.addVerticalElement()\n            } else if (_.includes([EElementPosition.LEFT, EElementPosition.RIGHT], value.position)) {\n              this.addHorizentalElement()\n            }\n          },\n          duplicate: (value: any) => {\n            this.value = value\n            this.foundParent = false\n            if (_.includes([EElementPosition.TOP, EElementPosition.BOTTOM], value.position)) {\n              this.addVerticalElement()\n            } else if (_.includes([EElementPosition.LEFT, EElementPosition.RIGHT], value.position)) {\n              this.addHorizentalElement()\n            }\n          },\n          delete: (id: string) => {\n            this.value.id = id\n            this.deleteElement()\n          },\n          done: (item: any) => {\n            if (state.id === item.id) {\n              state.props = {\n                ...item.props,\n                ...(\n                    _.cloneDeep(item.props)['border-bottom']\n                      ? { 'border-bottom' : _.cloneDeep(item.props)['border-bottom'] }\n                      : undefined\n                  )\n              }\n            }\n          }\n        },\n        style: style\n      }\n\n      const tagName = BuilderTagMap.getTag(state.element)\n\n      return tag(tagName, properties, children)\n    }\n\n    addHorizentalElement(state: any = this.templateJson) {\n      if (state.children) {\n        let indexInsert = 0\n        const lists = state.children.find((item: any, index: number) => {\n          if (item.id === this.value.id) {\n            indexInsert = EElementPosition.LEFT === this.value.position ? index : index + 1\n            return true\n          }\n          this.addHorizentalElement(item)\n        })\n        if (lists) {\n          const data = this.value.duplicate\n            ? { ..._.cloneDeep(lists) }\n            : { ..._.cloneDeep(this.defaultData[`${this.value.element}_DEFAULT`]) }\n          state.children.splice(indexInsert, 0, { ...data, id: uuid() })\n        }\n      }\n    }\n\n    addVerticalElement(state: any = this.templateJson) {\n      if (state.children) {\n        let indexInsert = 0\n        const lists = state.children.find((item: any, index: number) => {\n          if (this.foundParent) {\n            if (item.id === this.parentId) {\n              indexInsert = EElementPosition.TOP === this.value.position ? index : index + 1\n              return true\n            }\n            this.addVerticalElement(item)\n          } else {\n            this.foundParent = item.id === this.value.id\n            this.parentId = state.id\n            this.addVerticalElement(this.foundParent ? undefined : item)\n          }\n        })\n        if (lists) {\n          const key: any = _.findKey(lists.children, child => child.id === this.value.id)\n          const data = this.value.duplicate\n            ? { \n                ..._.cloneDeep({\n                ...lists,\n                children: _(lists.children)\n                  .map((child: any) => { return { ...child, id: uuid() } })\n                  .filter((child: any, index: number) => index === _.parseInt(key))\n                  .cloneDeep()\n                })\n              }\n            : { \n                ..._.cloneDeep(this.defaultData['CONTAINER_DEFAULT']),\n                id: uuid(),\n                children: _.cloneDeep([{\n                  id: uuid(),\n                  ..._.cloneDeep(this.defaultData[`${this.value.element}_DEFAULT`])\n                }])\n              }\n          state.children.splice(indexInsert, 0, { ...data, id: uuid() })\n        }\n      }\n    }\n\n    deleteElement(state: any = this.templateJson) {\n      if (state.children) {\n        state.children.forEach((child: any) => {\n          if (child.id === this.value.id) {\n            state.children = _.filter(state.children, item => this.value.id !== item.id)\n            this.deleteChildElement()\n          }\n          this.deleteElement(child)\n        })\n      }\n    }\n\n    deleteChildElement(state: any = this.templateJson) {\n      if (state.children) {\n        state.children = _.filter(state.children, item => item.children.length > 0)\n      }\n      return\n    }\n\n    render(createElement: CreateElement) {\n      return this.createComponent(this.templateJson, createElement)\n    }\n  }\n</script>\n"]}]}