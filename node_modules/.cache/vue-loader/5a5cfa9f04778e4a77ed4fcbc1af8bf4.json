{"remainingRequest":"/Users/nan3ds/3DsProject/pam-builder/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nan3ds/3DsProject/pam-builder/src/pages/templates/HTML.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/nan3ds/3DsProject/pam-builder/src/pages/templates/HTML.vue","mtime":1607484298270},{"path":"/Users/nan3ds/3DsProject/pam-builder/node_modules/babel-loader/lib/index.js","mtime":1605690691451},{"path":"/Users/nan3ds/3DsProject/pam-builder/node_modules/ts-loader/index.js","mtime":1606390504017},{"path":"/Users/nan3ds/3DsProject/pam-builder/node_modules/cache-loader/dist/cjs.js","mtime":1605252086732},{"path":"/Users/nan3ds/3DsProject/pam-builder/node_modules/vue-loader/lib/index.js","mtime":1605690691983}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgXyBmcm9tICdsb2Rhc2gnCmltcG9ydCB7IHV1aWQgfSBmcm9tICd1dWlkdjQnCmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgV2F0Y2ggfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJwppbXBvcnQgQmFzZUNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL0Jhc2VDb21wb25lbnQnCmltcG9ydCB7IE1FTlUgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvQmFzZScKaW1wb3J0IHsgRUVsZW1lbnRUeXBlIH0gZnJvbSAnLi4vLi4vZW51bS9FbGVtZW50cycKaW1wb3J0IHsgSUNvbnRhaW5lciB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvVGVtcGxhdGUnCmltcG9ydCB7CiAgQ09OVEFJTkVSX0RFRkFVTFQsCiAgVEVYVF9ERUZBVUxULAogIElNQUdFX0RFRkFVTFQsCiAgU1BBQ0VSX0RFRkFVTFQsCiAgQlVUVE9OX0RFRkFVTFQsCiAgQk9YX0RFRkFVTFQKfSBmcm9tICcuLi8uLi9jb25zdGFudHMvRGVmYXVsdCcKaW1wb3J0IEJveENvbXBvbmVudCBmcm9tICcuLi8uLi9jb21wb25lbnRzL2Jhc2UvQm94JwppbXBvcnQgeyBFRGlyZWN0aW9uIH0gZnJvbSAnLi4vLi4vZW51bS9Db21wb25lbnRzJwoKQENvbXBvbmVudCh7CiAgY29tcG9uZW50czogeyBCb3hDb21wb25lbnQgfQp9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBIVE1MVGVtcGxhdGUgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHsKICBAUHJvcCgpIHByb3BUZW1wbGF0ZUpzb24hOiBJQ29udGFpbmVyCgogIGVsZW1lbnROYW1lID0gJycKICBoYXZlRWxlbWVudENoaWxkID0gZmFsc2UKICB0ZW1wbGF0ZUpzb246IElDb250YWluZXIgPSB7CiAgICBpZDogdXVpZCgpLAogICAgLi4uXy5jbG9uZURlZXAodGhpcy5kZWZhdWx0RGF0YVsnQ09OVEFJTkVSX0RFRkFVTFQnXSkKICB9CgogIGdldCBtZW51KCkgewogICAgcmV0dXJuIE1FTlUKICB9CgogIGdldCBlbGVtZW50VHlwZSgpIHsKICAgIHJldHVybiBbCiAgICAgIEVFbGVtZW50VHlwZS5URVhULAogICAgICBFRWxlbWVudFR5cGUuSU1BR0UsCiAgICAgIEVFbGVtZW50VHlwZS5TUEFDRVIsCiAgICAgIEVFbGVtZW50VHlwZS5CVVRUT04sCiAgICAgIEVFbGVtZW50VHlwZS5CT1gKICAgIF0KICB9CgogIGdldCBkZWZhdWx0RGF0YSgpOiBhbnkgewogICAgcmV0dXJuIHsKICAgICAgQ09OVEFJTkVSX0RFRkFVTFQsCiAgICAgIFRFWFRfREVGQVVMVCwKICAgICAgSU1BR0VfREVGQVVMVCwKICAgICAgU1BBQ0VSX0RFRkFVTFQsCiAgICAgIEJVVFRPTl9ERUZBVUxULAogICAgICBCT1hfREVGQVVMVAogICAgfQogIH0KCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMudGVtcGxhdGVKc29uLnByb3BzLmZsZXhib3hbJ2ZsZXgtZGlyZWN0aW9uJ10gPSBFRGlyZWN0aW9uLkNPTFVNTgogICAgaWYgKHRoaXMucHJvcFRlbXBsYXRlSnNvbikgewogICAgICB0aGlzLnRlbXBsYXRlSnNvbiA9IHRoaXMucHJvcFRlbXBsYXRlSnNvbgogICAgICB0aGlzLmhhdmVFbGVtZW50Q2hpbGQgPSB0cnVlCiAgICB9CiAgfQoKICBkb09wZW5Nb2RhbCgpIHsKICAgIHRoaXMuJHJlZnNbJ21vZGFsLXZpZXctanNvbiddLmlzT3Blbk1vZGFsID0gdHJ1ZQogIH0KCiAgZG9HZXRCYWNrZ3JvbmRDb250YWluZXIodmFsdWU6IHN0cmluZykgewogICAgdGhpcy50ZW1wbGF0ZUpzb24ucHJvcHMuYmFja2dyb3VuZCA9IHZhbHVlCiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjb250ZW50JylbMF0uc2V0QXR0cmlidXRlKCdzdHlsZScsIGBiYWNrZ3JvdW5kLWNvbG9yOiAke3ZhbHVlfWApCiAgfQoKICBkb0FkZEpzb24oZWxlbWVudDogc3RyaW5nKSB7CiAgICB0aGlzLmVsZW1lbnROYW1lID0gXy50b1VwcGVyKGVsZW1lbnQpCiAgICB0aGlzLmRvQWRkRWxlbWVudENoaWxkKHRoaXMudGVtcGxhdGVKc29uLmNoaWxkcmVuKQogIH0KCiAgZG9GaW5kRWxlbWVudChlbGVtZW50OiBhbnkpIHsKICAgIHJldHVybiB0aGlzLmVsZW1lbnRUeXBlLmluY2x1ZGVzKGVsZW1lbnQpCiAgfQoKICBkb0FkZEVsZW1lbnRDaGlsZChjaGlsZHJlbjogb2JqZWN0W10pIHsKICAgIGlmICh0aGlzLnRlbXBsYXRlSnNvbi5jaGlsZHJlbi5sZW5ndGggPCAxKSB7CiAgICAgIHRoaXMudGVtcGxhdGVKc29uLmNoaWxkcmVuLnB1c2goewogICAgICAgIGlkOiB1dWlkKCksCiAgICAgICAgLi4uXy5jbG9uZURlZXAodGhpcy5kZWZhdWx0RGF0YVsnQ09OVEFJTkVSX0RFRkFVTFQnXSkKICAgICAgfSkKICAgICAgdGhpcy5kb0FkZEVsZW1lbnRDaGlsZCh0aGlzLnRlbXBsYXRlSnNvbi5jaGlsZHJlbikKICAgIH0gZWxzZSB7CiAgICAgIGNoaWxkcmVuLmZvckVhY2goKGl0ZW06IGFueSkgPT4gewogICAgICAgIGlmICh0aGlzLmRvRmluZEVsZW1lbnQoaXRlbS5lbGVtZW50KSkgewogICAgICAgICAgdGhpcy5oYXZlRWxlbWVudENoaWxkID0gdHJ1ZQogICAgICAgICAgdGhpcy5lbGVtZW50TmFtZSA9IF8udG9VcHBlcihpdGVtLmVsZW1lbnQpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGl0ZW0uY2hpbGRyZW4ucHVzaCh7CiAgICAgICAgICAgIGlkOiB1dWlkKCksCiAgICAgICAgICAgIC4uLl8uY2xvbmVEZWVwKHRoaXMuZGVmYXVsdERhdGFbYCR7dGhpcy5lbGVtZW50TmFtZX1fREVGQVVMVGBdKQogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMuZG9BZGRFbGVtZW50Q2hpbGQoaXRlbS5jaGlsZHJlbikKICAgICAgICB9CiAgICAgIH0pCiAgICB9CiAgfQoKICBAV2F0Y2goJ3RlbXBsYXRlSnNvbicsIHsgZGVlcDogdHJ1ZSB9KQogIG9uVXBkYXRlVGVtcGxhdGUoKSB7CiAgICBpZiAodGhpcy50ZW1wbGF0ZUpzb24uY2hpbGRyZW4ubGVuZ3RoIDwgMSkgewogICAgICB0aGlzLmhhdmVFbGVtZW50Q2hpbGQgPSBmYWxzZQogICAgfQogICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdGhpcy50ZW1wbGF0ZUpzb24pCiAgfQp9Cg=="},{"version":3,"sources":["HTML.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HTML.vue","sourceRoot":"src/pages/templates","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"container-header\">\n      <div class=\"container-title\">\n        <span class=\"product-name\">PAM </span>\n        <span class=\"project-name\">Message Builder</span>\n      </div>\n      <div class=\"container-management\">\n        <SquareButtonComponent\n          className=\"view-json-square-button\"\n            icon=\"code-braces-box\"\n            label=\"View JSON\"\n            @click=\"doOpenModal\"\n        />\n        <ModalComponent\n          ref=\"modal-view-json\"\n          :modal=\"{ width: 800, button: { info: true, position: 'center' } }\"\n        >\n          <template slot=\"content\">\n            <div class=\"json-viewer\">\n              <pre><code>{{ templateJson }}</code></pre>\n            </div>\n          </template>\n        </ModalComponent>\n        <span class=\"vertical-line\"> | </span>\n        <ColorPickerComponent\n          name=\"contanier-background\"\n          label=\"Background\"\n          :value=\"templateJson.background\"\n          @change=\"doGetBackgrondContainer\"\n        />\n      </div>\n    </div>\n    <div class=\"container-body\">\n      <div class=\"content\">\n        <div v-if=\"haveElementChild\">\n          <BuilderCanvas :templateJson=\"templateJson\"/>\n        </div>\n        <div v-else class=\"box-start\">\n          <SquareMenuButtonComponent\n            className=\"start-square-menu-button\"\n            icon=\"plus-circle\"\n            label=\"Launch Template\"\n            :options=\"menu\"\n            @click=\"doAddJson\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport _ from 'lodash'\nimport { uuid } from 'uuidv4'\nimport { Component, Prop, Watch } from 'vue-property-decorator'\nimport BaseComponent from '../../core/BaseComponent'\nimport { MENU } from '../../constants/Base'\nimport { EElementType } from '../../enum/Elements'\nimport { IContainer } from '../../interfaces/Template'\nimport {\n  CONTAINER_DEFAULT,\n  TEXT_DEFAULT,\n  IMAGE_DEFAULT,\n  SPACER_DEFAULT,\n  BUTTON_DEFAULT,\n  BOX_DEFAULT\n} from '../../constants/Default'\nimport BoxComponent from '../../components/base/Box'\nimport { EDirection } from '../../enum/Components'\n\n@Component({\n  components: { BoxComponent }\n})\nexport default class HTMLTemplate extends BaseComponent {\n  @Prop() propTemplateJson!: IContainer\n\n  elementName = ''\n  haveElementChild = false\n  templateJson: IContainer = {\n    id: uuid(),\n    ..._.cloneDeep(this.defaultData['CONTAINER_DEFAULT'])\n  }\n\n  get menu() {\n    return MENU\n  }\n\n  get elementType() {\n    return [\n      EElementType.TEXT,\n      EElementType.IMAGE,\n      EElementType.SPACER,\n      EElementType.BUTTON,\n      EElementType.BOX\n    ]\n  }\n\n  get defaultData(): any {\n    return {\n      CONTAINER_DEFAULT,\n      TEXT_DEFAULT,\n      IMAGE_DEFAULT,\n      SPACER_DEFAULT,\n      BUTTON_DEFAULT,\n      BOX_DEFAULT\n    }\n  }\n\n  created() {\n    this.templateJson.props.flexbox['flex-direction'] = EDirection.COLUMN\n    if (this.propTemplateJson) {\n      this.templateJson = this.propTemplateJson\n      this.haveElementChild = true\n    }\n  }\n\n  doOpenModal() {\n    this.$refs['modal-view-json'].isOpenModal = true\n  }\n\n  doGetBackgrondContainer(value: string) {\n    this.templateJson.props.background = value\n    document.getElementsByClassName('content')[0].setAttribute('style', `background-color: ${value}`)\n  }\n\n  doAddJson(element: string) {\n    this.elementName = _.toUpper(element)\n    this.doAddElementChild(this.templateJson.children)\n  }\n\n  doFindElement(element: any) {\n    return this.elementType.includes(element)\n  }\n\n  doAddElementChild(children: object[]) {\n    if (this.templateJson.children.length < 1) {\n      this.templateJson.children.push({\n        id: uuid(),\n        ..._.cloneDeep(this.defaultData['CONTAINER_DEFAULT'])\n      })\n      this.doAddElementChild(this.templateJson.children)\n    } else {\n      children.forEach((item: any) => {\n        if (this.doFindElement(item.element)) {\n          this.haveElementChild = true\n          this.elementName = _.toUpper(item.element)\n        } else {\n          item.children.push({\n            id: uuid(),\n            ..._.cloneDeep(this.defaultData[`${this.elementName}_DEFAULT`])\n          })\n          this.doAddElementChild(item.children)\n        }\n      })\n    }\n  }\n\n  @Watch('templateJson', { deep: true })\n  onUpdateTemplate() {\n    if (this.templateJson.children.length < 1) {\n      this.haveElementChild = false\n    }\n    this.$emit('change', this.templateJson)\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  @import '../../assets/scss/Main.scss';\n</style>"]}]}